(this["webpackJsonpreact-meeting-log"]=this["webpackJsonpreact-meeting-log"]||[]).push([[0],{30:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a.n(s),c=a(22),i=a.n(c),r=(a(28),a(29),a(30),a(6)),l=a(7),o=a(9),d=a(8),h=a(11),m=a(18);a(36),a(40);m.a.initializeApp({apiKey:"AIzaSyA8nQXVF-s2ixf0QThEhAgnr_itH4CeVvc",authDomain:"react-app-6106a.firebaseapp.com",databaseURL:"https://react-app-6106a-default-rtdb.firebaseio.com",projectId:"react-app-6106a",storageBucket:"react-app-6106a.appspot.com",messagingSenderId:"929016927762",appId:"1:929016927762:web:bd944254d0998a634d2acb",measurementId:"G-XVGVPN0D0M"});new m.a.auth.GoogleAuthProvider,m.a.auth();var u=m.a,b=a(2),j=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(b.jsx)("div",{className:"container text-center",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-10 col-md-10 col-lg-8 col-xl-7",children:[Object(b.jsx)("h4",{className:"display-4 text-primary mt-3 mb-2",children:"Meeting Log"}),Object(b.jsxs)("p",{className:"lead",style:{fontSize:"1.4em",fontWeight:200},children:["This simple app creates meetings, allows people to check in, and picks random users to award giveaways. It's a good example of a Single Page Application which includes connection to a database and routing. It's a practical way to learn"," ",Object(b.jsx)("a",{href:"https://reactjs.org/",children:"React"})," ","with"," ",Object(b.jsx)("a",{href:"https://firebase.google.com",children:"Firebase"}),"."]}),null==e&&Object(b.jsxs)("span",{children:[Object(b.jsx)(h.a,{to:"/register",className:"btn btn-outline-primary mr-2",children:"Register"}),Object(b.jsx)(h.a,{to:"/login",className:"btn btn-outline-primary mr-2",children:"Log In"})]}),e&&Object(b.jsx)(h.a,{to:"/meetings",class:"btn btn-primary",children:"Meetings"})]})})})}}]),a}(s.Component),p=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userName,a=e.logOutUser;return Object(b.jsxs)("div",{className:"text-center mt-4",children:[Object(b.jsxs)("span",{className:"text-secondary fw-bold pl-1",children:["Welcome ",t]}),","," ",Object(b.jsx)(h.a,{to:"/",className:"fw-bold text-primary pl-1",onClick:function(e){return a(e)},children:"log out"})]})}}]),a}(s.Component),g=a(12),O=a(10),f=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.theMessage;return Object(b.jsx)("div",{className:"col-12 alert alert-danger px-3",children:e})}}]),a}(s.Component),v=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={email:"",password:"",errorMessage:null},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(g.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this,a={email:this.state.email,password:this.state.password};e.preventDefault(),u.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){Object(h.c)("/meetings")})).catch((function(e){null!==e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})}))}},{key:"render",value:function(){return Object(b.jsx)("form",{className:"mt-3",onSubmit:this.handleSubmit,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsx)("div",{className:"card bg-light",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{className:"font-weight-light mb-3",children:"Log in"}),Object(b.jsxs)("section",{className:"form-group",children:[null!==this.state.errorMessage?Object(b.jsx)(f,{theMessage:this.state.errorMessage}):null,Object(b.jsx)("label",{className:"form-control-label sr-only",htmlFor:"Email",children:"Email"}),Object(b.jsx)("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsx)("section",{className:"form-group",children:Object(b.jsx)("input",{required:!0,className:"form-control",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})}),Object(b.jsx)("div",{className:"form-group text-right mb-0",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Log in"})})]})})})})})})}}]),a}(s.Component),x=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={displayName:"",email:"",passOne:"",passTwo:"",errorMessage:null},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target.name,s=e.target.value;this.setState(Object(g.a)({},a,s),(function(){t.state.passOne!==t.state.passTwo?t.setState({errorMessage:"Passwords do not match..."}):t.setState({errorMessage:null})}))}},{key:"handleSubmit",value:function(e){var t=this,a={displayName:this.state.displayName,email:this.state.email,password:this.state.passOne};e.preventDefault(),u.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(){t.props.registerUser(a.displayName)})).catch((function(e){null!==e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})}))}},{key:"render",value:function(){return Object(b.jsx)("form",{className:"mt-3",onSubmit:this.handleSubmit,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsx)("div",{className:"col-lg-8",children:Object(b.jsx)("div",{className:"card bg-light",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{className:"font-weight-light mb-3",children:"Register"}),Object(b.jsxs)("div",{className:"form-row",children:[null!==this.state.errorMessage?Object(b.jsx)(f,{theMessage:this.state.errorMessage}):null,Object(b.jsxs)("section",{className:"col-sm-12 form-group",children:[Object(b.jsx)("label",{className:"form-control-label sr-only",htmlFor:"displayName",children:"Display Name"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"displayName",placeholder:"Display Name",name:"displayName",required:!0,value:this.state.displayName,onChange:this.handleChange})]})]}),Object(b.jsxs)("section",{className:"form-group",children:[Object(b.jsx)("label",{className:"form-control-label sr-only",htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{className:"form-control",type:"email",id:"email",placeholder:"Email Address",required:!0,name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsx)("section",{className:"col-sm-6 form-group",children:Object(b.jsx)("input",{className:"form-control",type:"password",name:"passOne",placeholder:"Password",value:this.state.passOne,onChange:this.handleChange})}),Object(b.jsx)("section",{className:"col-sm-6 form-group",children:Object(b.jsx)("input",{className:"form-control",type:"password",required:!0,name:"passTwo",placeholder:"Repeat Password",value:this.state.passTwo,onChange:this.handleChange})})]}),Object(b.jsx)("div",{className:"form-group text-right mb-0",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})})]})})})})})})}}]),a}(s.Component),N=a(16),y=a(14),C=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).deleteMeeting=function(e,t){e.preventDefault(),u.database().ref("meetings/".concat(s.props.userID,"/").concat(t)).remove()},s.deleteMeeting=s.deleteMeeting.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.meetings.map((function(t){return Object(b.jsxs)("div",{className:"list-group-item d-flex",children:[Object(b.jsxs)("section",{className:"btn-group align-self-center",role:"group","aria-label":"Meeting Options",children:[Object(b.jsx)("button",{className:"btn btn-sm btn-outline-secondary",title:"Delete Meeting",onClick:function(a){return e.deleteMeeting(a,t.meetingID)},children:Object(b.jsx)(N.d,{})}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-secondary",title:"Check In",onClick:function(){return Object(h.c)("checkin/".concat(e.props.userID,"/").concat(t.meetingID))},children:Object(b.jsx)(y.a,{})}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-secondary",title:"Attendees List",onClick:function(){return Object(h.c)("attendees/".concat(e.props.userID,"/").concat(t.meetingID))},children:Object(b.jsx)(N.a,{})})]}),Object(b.jsx)("section",{className:"pl-3 text-left align-self-center",children:t.meetingName})]},t.meetingID)}));return Object(b.jsx)("div",{children:t})}}]),a}(s.Component),D=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={meetingName:""},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(g.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addMeeting(this.state.meetingName),this.setState({meetingName:""})}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"container mt-4",children:Object(b.jsxs)("div",{className:"row justify-content-center",children:[Object(b.jsxs)("div",{className:"col-md-8 text-center",children:[Object(b.jsx)("h1",{className:"font-weight-light",children:"Add a Meeting"}),Object(b.jsx)("div",{className:"card bg-light",children:Object(b.jsx)("div",{className:"card-body text-center",children:Object(b.jsx)("form",{className:"formgroup",onSubmit:this.handleSubmit,children:Object(b.jsxs)("div",{className:"input-group input-group-lg",children:[Object(b.jsx)("input",{type:"text",className:"form-control",name:"meetingName",placeholder:"Meeting name","aria-describedby":"buttonAdd",value:this.state.meetingName,onChange:this.handleChange}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-sm btn-info",id:"buttonAdd",children:"+"})})]})})})})]}),Object(b.jsx)("div",{className:"col-11 col-md-6 text-center",children:Object(b.jsxs)("div",{className:"card border-top-0 rounded-0",children:[this.props.meetings&&this.props.meetings.length?Object(b.jsx)("div",{className:"card-body py-2",children:Object(b.jsx)("h4",{className:"card-title fw-light m-0",children:"Your Meetings"})}):null,this.props.meetings&&Object(b.jsx)("div",{className:"list-group list-group-flush",children:Object(b.jsx)(C,{meetings:this.props.meetings,userID:this.props.userID})})]})})]})})}}]),a}(s.Component),S=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logOutUser;return Object(b.jsx)("nav",{className:"site-nav family-sans navbar navbar-expand bg-primary navbar-dark higher",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("a",{href:"/",className:"navbar-brand",children:[Object(b.jsx)(y.d,{})," Meeting Log"]}),Object(b.jsxs)("div",{className:"navbar-nav ml-auto",children:[t&&Object(b.jsx)(h.a,{className:"nav-item nav-link",to:"/meetings",children:"meetings"}),!t&&Object(b.jsx)(h.a,{className:"nav-item nav-link",to:"/login",children:"log in"}),!t&&Object(b.jsx)(h.a,{className:"nav-item nav-link",to:"/register",children:"register"}),t&&Object(b.jsx)(h.a,{className:"nav-item nav-link",to:"/login",onClick:function(e){return a(e)},children:"log out"})]})]})})}}]),a}(s.Component),w=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={displayName:"",email:""},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(g.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),u.database().ref("meetings/".concat(this.props.userID,"/").concat(this.props.meetingID,"/attendees")).push({attendeeName:this.state.displayName,attendeeEmail:this.state.email,star:!1}),Object(h.c)("/attendees/".concat(this.props.userID,"/").concat(this.props.meetingID))}},{key:"render",value:function(){return Object(b.jsx)("form",{className:"mt-3",onSubmit:this.handleSubmit,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsx)("div",{className:"card bg-light",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{className:"font-weight-light mb-3",children:"Check in"}),Object(b.jsxs)("section",{className:"form-group",children:[Object(b.jsx)("label",{className:"form-control-label sr-only",htmlFor:"displayName",children:"Name"}),Object(b.jsx)("input",{required:!0,className:"form-control",type:"text",id:"displayName",name:"displayName",placeholder:"Name",value:this.state.displayName,onChange:this.handleChange})]}),Object(b.jsxs)("section",{className:"form-group",children:[Object(b.jsx)("label",{className:"form-control-label sr-only",htmlFor:"Email",children:"Email"}),Object(b.jsx)("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})]}),Object(b.jsx)("div",{className:"form-group text-right mb-0",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Check in"})})]})})})})})})}}]),a}(s.Component),k=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).deleteAttendee=function(e,t,a){e.preventDefault();var n=s.props.adminUser;u.database().ref("/meetings/".concat(n,"/").concat(t,"/attendees/").concat(a)).remove()},s.toggleStar=function(e,t,a,n){console.log(t),e.preventDefault();var c=s.props.adminUser,i=u.database().ref("/meetings/".concat(c,"/").concat(a,"/attendees/").concat(n,"/star"));void 0===t?i.set(!0):i.set(!t)},s.deleteAttendee=s.deleteAttendee.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.adminUser===this.props.userID,a=this.props.attendees.map((function(a){return Object(b.jsx)("div",{className:"col-8 col-sm-6 col-md-4 col-lg-3 mb-2 p-0 px-1",children:Object(b.jsx)("div",{className:"card ",children:Object(b.jsxs)("div",{className:"card-body px-3 py-2 d-flex align-items-center"+(t?"":"justify-content-center"),children:[t&&Object(b.jsxs)("div",{className:"btn-group pr-2",children:[Object(b.jsx)("button",{className:"btn btn-sm "+(a.star?"btn-info":"btn-outline-secondary"),title:"Give user a star",onClick:function(t){return e.toggleStar(t,a.star,e.props.meetingID,a.attendeeID)},children:Object(b.jsx)(N.c,{})}),Object(b.jsx)("a",{href:"mailto:".concat(a.attendeeEmail),className:"btn btn-sm btn-outline-secondary",title:"Mail Attendee",children:Object(b.jsx)(N.b,{})}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-secondary",title:"Delete Attendee",onClick:function(t){return e.deleteAttendee(t,e.props.meetingID,a.attendeeID)},children:Object(b.jsx)(N.d,{})})]}),Object(b.jsx)("div",{children:a.attendeeName})]})})},a.attendeeID)}));return Object(b.jsx)("div",{className:"row justify-content-center",children:a})}}]),a}(s.Component),I=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={allAttendees:[],searchQuery:"",displayAttendees:[]},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.resetQuery=s.resetQuery.bind(Object(O.a)(s)),s.chooseRandom=s.chooseRandom.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.database().ref("meetings/".concat(this.props.userID,"/").concat(this.props.meetingID,"/attendees")).on("value",(function(t){var a=t.val(),s=[];for(var n in a)s.push({attendeeID:n,attendeeName:a[n].attendeeName,attendeeEmail:a[n].attendeeEmail,star:a[n].star});e.setState({displayAttendees:s,allAttendees:s})}))}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(g.a)({},t,a))}},{key:"chooseRandom",value:function(){var e=Math.floor(Math.random()*this.state.allAttendees.length);this.resetQuery(),this.setState({displayAttendees:[this.state.allAttendees[e]]})}},{key:"resetQuery",value:function(){this.setState({searchQuery:"",displayAttendees:this.state.allAttendees})}},{key:"render",value:function(){var e=this,t=this.state.displayAttendees.filter((function(t){return t.attendeeName.toLowerCase().match(e.state.searchQuery.toLowerCase())&&!0}));return Object(b.jsxs)("div",{className:"container mt-4",children:[Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-md-8",children:[Object(b.jsx)("h1",{className:"font-weight-light text-center",children:"Attendees"}),Object(b.jsx)("div",{className:"card bg-light mb-4",children:Object(b.jsx)("div",{className:"card-body text-center",children:Object(b.jsxs)("div",{className:"input-group input-group-lg",children:[Object(b.jsx)("input",{type:"text",name:"searchQuery",value:this.state.searchQuery,placeholder:"Search Attendees",className:"form-control",onChange:this.handleChange}),Object(b.jsxs)("div",{className:"input-group-append",children:[Object(b.jsx)("button",{className:"btn btn-sm btn-outline-info",title:"Pick a random attendee",onClick:function(){return e.chooseRandom()},children:Object(b.jsx)(y.b,{})}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-info",title:"Reset Search",onClick:function(){return e.resetQuery()},children:Object(b.jsx)(y.c,{})})]})]})})})]})}),Object(b.jsx)(k,{userID:this.props.userID,meetingID:this.props.meetingID,attendees:t,adminUser:this.props.adminUser})]})}}]),a}(s.Component),M=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).registerUser=function(t){u.auth().onAuthStateChanged((function(a){a.updateProfile({displayName:t}).then((function(){e.setState({user:a,displayName:a.displayName,userID:a.uid}),Object(h.c)("/meetings")}))}))},e.logOutUser=function(t){t.preventDefault(),e.setState({user:null,displayName:null,userID:null}),u.auth().signOut().then((function(){Object(h.c)("/login")}))},e.addMeeting=function(t){u.database().ref("meetings/".concat(e.state.user.uid)).push({meetingName:t})},e.state={user:null,displayName:null,userID:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.auth().onAuthStateChanged((function(t){t?(e.setState({user:t,displayName:t.displayName,userID:t.uid}),u.database().ref("meetings/"+t.uid).on("value",(function(t){var a=t.val(),s=[];for(var n in a)s.push({meetingID:n,meetingName:a[n].meetingName});e.setState({meetings:s,howManyMeetings:s.length})}))):e.setState({user:null})}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(S,{user:this.state.user,logOutUser:this.logOutUser}),this.state.user&&Object(b.jsx)(p,{userName:this.state.displayName,logOutUser:this.logOutUser}),Object(b.jsxs)(h.b,{children:[Object(b.jsx)(v,{path:"/login"}),Object(b.jsx)(x,{path:"/register",registerUser:this.registerUser}),Object(b.jsx)(D,{path:"/meetings",addMeeting:this.addMeeting,meetings:this.state.meetings,userID:this.state.userID}),Object(b.jsx)(w,{path:"/checkin/:userID/:meetingID"}),Object(b.jsx)(I,{path:"/attendees/:userID/:meetingID",adminUser:this.state.userID}),Object(b.jsx)(j,{path:"/",user:this.state.user})]})]})}}]),a}(s.Component),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),A()}},[[43,1,2]]]);
//# sourceMappingURL=main.f854fe50.chunk.js.map